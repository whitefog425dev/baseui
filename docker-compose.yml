version: '3'
services:
  # Define the service, which is used in pipeline.yml
  baseui:
    build: .
    volumes:
      # Mount the current source directory (if not copied in Dockerfile)
      - .:/baseui
      - /baseui/node_modules/
    environment:
      # Pass through any necessary environment variables
      - CODECOV_TOKEN
      - CI=true
      - BUILDKITE
      - BUILDKITE_BRANCH
      - BUILDKITE_BUILD_NUMBER
      - BUILDKITE_JOB_ID
      - BUILDKITE_BUILD_URL
      - BUILDKITE_PROJECT_SLUG
      - BUILDKITE_COMMIT